{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/dhx-optimus/index.js","webpack:///../../lib/handlebars.runtime.js","webpack:///../../../lib/handlebars/base.js","webpack:///../../../lib/handlebars/decorators.js","webpack:///../../../../lib/handlebars/decorators/inline.js","webpack:///../../../lib/handlebars/exception.js","webpack:///../../../lib/handlebars/helpers.js","webpack:///../../../../lib/handlebars/helpers/block-helper-missing.js","webpack:///../../../../lib/handlebars/helpers/each.js","webpack:///../../../../lib/handlebars/helpers/helper-missing.js","webpack:///../../../../lib/handlebars/helpers/if.js","webpack:///../../../../lib/handlebars/helpers/log.js","webpack:///../../../../lib/handlebars/helpers/lookup.js","webpack:///../../../../lib/handlebars/helpers/with.js","webpack:///../../../lib/handlebars/logger.js","webpack:///../../../lib/handlebars/no-conflict.js","webpack:///../../../lib/handlebars/runtime.js","webpack:///../../../lib/handlebars/safe-string.js","webpack:///../../../lib/handlebars/utils.js","webpack:///./node_modules/handlebars/runtime.js","webpack:///./node_modules/riot-observable/dist/observable.js","webpack:///./node_modules/riot-route/lib/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./sources/about/about-template.html","webpack:///./sources/about/about-view.js","webpack:///./sources/app.js","webpack:///./sources/contacts/contacts-detail-view.js","webpack:///./sources/contacts/contacts-grid-view.js","webpack:///./sources/contacts/contacts-view.js","webpack:///./sources/events/events-data-view.js","webpack:///./sources/events/events-detail-view.js","webpack:///./sources/events/events-view.js","webpack:///./sources/less/app.less","webpack:///./sources/projects/projects-detail-view.js","webpack:///./sources/projects/projects-grid-view.js","webpack:///./sources/projects/projects-sales-graph-view.js","webpack:///./sources/projects/projects-sales-grid-view.js","webpack:///./sources/projects/projects-sub-view.js","webpack:///./sources/projects/projects-view.js","webpack:///./sources/settings/settings-data-view.js","webpack:///./sources/settings/settings-detail-view.js","webpack:///./sources/settings/settings-view.js","webpack:///./sources/top/sidebar/sidebar-view.js","webpack:///./sources/top/top-view.js","webpack:///./sources/top/topbar/topbar-view.js"],"names":["LocalSession","get","key","def","value","window","localStorage","getItem","data","JSON","parse","e","set","stringify","setItem","HTMLCell","root","attachLayout","config","parent","dhtmlXLayoutObject","DHXView","app","_tempServices","_slots","_usedSlots","_cleanSlot","name","destroy","show","view","cell","uid","uicell","sub","t","render","addSlot","obj","refresh","clean","attachEvent","handler","bind","tag","callEvent","params","addService","setService","getService","dhtmlx","message","detachEvent","ui","destructor","unload","close","imagepath","comp","DHXApp","document","body","toNode","top","event","EventSystem","session","facade","services","code","on","detach","args","fire","images","skin","seed","n","getElementById","querySelector","node","addEventListener","delay","setTimeout","master","evs","line","i","length","splice","toLowerCase","stack","push","result","apply","copy","source","target","Array","isArray","method","from","Date","DHXLocale","polyglot","langs","lang","_polyglot","_langs","_locale","setLang","locale","phrases","poly","_t","getLang","helper","module","exports","require","undefined","observable","el","callbacks","slice","prototype","Object","defineProperties","fn","enumerable","writable","configurable","off","arr","cb","one","arguments","trigger","arglen","fns","call","concat","RE_ORIGIN","EVENT_LISTENER","REMOVE_EVENT_LISTENER","ADD_EVENT_LISTENER","HAS_ATTRIBUTE","POPSTATE","HASHCHANGE","TRIGGER","MAX_EMIT_STACK_LEVEL","win","doc","hist","history","loc","location","prot","Router","clickEvent","ontouchstart","central","started","routeFound","debouncedEmit","base","current","parser","secondParser","emitStack","emitStackLevel","DEFAULT_PARSER","path","split","DEFAULT_SECOND_PARSER","filter","f","replace","re","RegExp","match","debounce","clearTimeout","start","autoExec","emit","click","$","s","normalize","isString","str","getPathFromRoot","href","getPathFromBase","force","isRoot","first","shift","which","metaKey","ctrlKey","shiftKey","defaultPrevented","nodeName","parentNode","indexOf","go","title","preventDefault","shouldReplace","replaceState","pushState","m","second","third","r","some","action","mainRouter","route","create","newSubRouter","router","stop","arg","exec","fn2","query","q","_","k","v","readyState","onreadystatechange","g","Function","eval","about","AboutView","attachHTMLString","author","version","MyApp","id","alert","ContactsDetailView","attachForm","type","position","labelWidth","inputWidth","label","inputHeight","offsetTop","offsetLeft","validate","options","_generateOptions","dateFormat","rows","attributes","readonly","className","index","console","log","fieldName","rowId","getFormData","setCellValue","load","src","photo","getContainer","innerHTML","email","setFormData","setItemValue","getCombo","selectOption","_getDateString","date","getFullYear","getMonth","getDate","positions","getPositions","text","contactsUrl","ContactsGridView","attachGrid","enableEditEvents","enableValidation","setColValidators","init","_load","cellChangeEvent","cellChangedHandler","confirm","boxCounter","callback","row","col","selectCell","parts","dt","parseInt","getColumnId","selectFirstRow","selectRow","fieldIndex","getColIndexById","cells","setValue","selectRowById","getRowData","getAllRowIds","_populateCombo","combo","put","_getDetailView","url","_isValidId","ids","search","isValidId","ContactsView","pattern","header","width","setAutoSize","eventsUrl","EventsDataView","attachDataView","template","margin","padding","height","drag","select","edit","exists","update","EventsDetailView","image","EventsView","ProjectsDetailView","comboType","newValue","state","getChecked","join","assigneesCombo","checkedAssignees","assign","item","getIndexByValue","setChecked","getStatusList","_getAllAssignees","assignees","fetch","then","response","json","contact","checked","sort","projectsUrl","ProjectsGridView","graphUrl","ProjectsSalesGraphView","attachChart","gradient","radius","legend","align","valign","clearAll","gridBaseUrl","ProjectsSalesGridView","ProjectsSubView","attachTabbar","arrows_mode","tabs","selected","ProjectsView","settingsUrl","SettingsDataView","autowidth","loadStruct","SettingsDetailView","struct","_getStruct","settings","contacts","list","blockOffset","events","projects","configuration","exportprint","notifications","statistics","removeworkspace","SettingsView","SidebarView","dhtmlXSideBar","templates","faTiles","attachSidebar","conf","_setItemInactive","items","setActive","icon","TopView","dhxTop","collapsed","setText","fix_size","setWidth","TopbarView","attachToolbar","iconset","setIconSize","_setText","img","setItemText"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/codebase/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./sources/app.js\");\n","class LocalSession {\r\n    get(key, def) {\r\n        let value = window.localStorage.getItem(key);\r\n        let data;\r\n        try {\r\n            data = value ? JSON.parse(value) : def;\r\n        }\r\n        catch (e) {\r\n            data = def;\r\n        }\r\n        return data;\r\n    }\r\n    set(key, value) {\r\n        value = JSON.stringify(value);\r\n        window.localStorage.setItem(key, value);\r\n    }\r\n}\r\nexport class HTMLCell {\r\n    constructor(root) {\r\n        this.root = root;\r\n    }\r\n    attachLayout(config) {\r\n        if (typeof config === \"object\") {\r\n            config.parent = this.root;\r\n            return new dhtmlXLayoutObject(config);\r\n        }\r\n        else\r\n            return new dhtmlXLayoutObject(this.root, config);\r\n    }\r\n}\r\nexport class DHXView {\r\n    constructor(app, root) {\r\n        this.app = app;\r\n        this.root = root;\r\n        this._tempServices = {};\r\n        this._slots = {};\r\n        this._usedSlots = {};\r\n    }\r\n    _cleanSlot(name) {\r\n        if (this._usedSlots[name]) {\r\n            this._usedSlots[name].destroy();\r\n            this._usedSlots[name] = null;\r\n        }\r\n    }\r\n    show(view, cell) {\r\n        cell = cell || this.root;\r\n        let name = uid();\r\n        let uicell;\r\n        if (typeof cell === \"string\") {\r\n            name = cell;\r\n            uicell = this._slots[name];\r\n        }\r\n        else {\r\n            uicell = cell;\r\n        }\r\n        this._cleanSlot(name);\r\n        let sub;\r\n        if (typeof view === \"function\") {\r\n            sub = new view(this.app, uicell);\r\n        }\r\n        else {\r\n            sub = view;\r\n            sub.app = this.app;\r\n            sub.root = uicell;\r\n        }\r\n        let t = this._usedSlots[name] = sub;\r\n        t.render();\r\n        return t;\r\n    }\r\n    addSlot(name, obj) {\r\n        this._slots[name] = obj;\r\n        this._cleanSlot(name);\r\n    }\r\n    refresh() {\r\n        this.clean();\r\n        this.render();\r\n    }\r\n    attachEvent(name, handler) {\r\n        this.app.attachEvent(name, handler, { bind: this, tag: this });\r\n    }\r\n    callEvent(name, params) {\r\n        this.app.callEvent(name, (params || []));\r\n    }\r\n    // @deprecated, remove in 1.0\r\n    addService(name, obj) {\r\n        return this.setService(name, obj);\r\n    }\r\n    setService(name, obj) {\r\n        this.app.setService(name, obj);\r\n        this._tempServices[name] = obj;\r\n    }\r\n    getService(name) {\r\n        return this.app.getService(name);\r\n    }\r\n    render() {\r\n        window.dhtmlx.message(\"Render method is not implemented for the view\");\r\n    }\r\n    clean() {\r\n        this.app.detachEvent({ tag: this });\r\n        for (let key in this._tempServices) {\r\n            if (this.getService(key) === this._tempServices[key]) {\r\n                this.app.setService(key, null);\r\n            }\r\n        }\r\n        // destroy UI\r\n        if (this.ui) {\r\n            if (this.ui.destructor) {\r\n                this.ui.destructor();\r\n            }\r\n            else if (this.ui.unload) {\r\n                this.ui.unload();\r\n            }\r\n            else if (this.ui.close) {\r\n                this.ui.close();\r\n            }\r\n        }\r\n        // destroy child views\r\n        for (let key in this._usedSlots) {\r\n            this._usedSlots[key].destroy();\r\n        }\r\n        this._usedSlots = [];\r\n    }\r\n    imagepath(comp) {\r\n        return this.app.imagepath(comp);\r\n    }\r\n    destroy() {\r\n        this.clean();\r\n        this._slots = this.ui = this.app = this.root = null;\r\n    }\r\n}\r\n// new App(config)\r\n// or\r\n// this.show(App, cell)\r\n// or\r\n// this.show( new App(config), cell)\r\nexport class DHXApp extends DHXView {\r\n    constructor(app, root) {\r\n        // create wrapper for root node\r\n        root = root || document.body;\r\n        if (root.attachLayout) {\r\n            super(null, root);\r\n        }\r\n        else {\r\n            if (typeof root === \"string\") {\r\n                root = toNode(root);\r\n            }\r\n            super(null, new HTMLCell(root));\r\n        }\r\n        this.app = this;\r\n        if (app instanceof DHXApp) {\r\n            this.top = app;\r\n        }\r\n        this.event = new EventSystem(this);\r\n        // event bus facade\r\n        this.session = new LocalSession();\r\n        this.facade = {\r\n            session: this.session,\r\n            attachEvent: this.attachEvent.bind(this),\r\n            callEvent: this.callEvent.bind(this),\r\n            getService: this.getService.bind(this),\r\n            setService: this.setService.bind(this)\r\n        };\r\n        this.services = {};\r\n        this.config = (app instanceof DHXApp ? app.config : app) || {};\r\n    }\r\n    attachEvent(name, code, config) {\r\n        return this.event.on(name, code, config);\r\n    }\r\n    detachEvent(config) {\r\n        return this.event.detach(config);\r\n    }\r\n    callEvent(name, args) {\r\n        return this.event.fire(name, args);\r\n    }\r\n    show(view, cell) {\r\n        let t = super.show(view, cell);\r\n        this.callEvent(\"onAppRender\", []);\r\n        return t;\r\n    }\r\n    setService(name, obj) {\r\n        this.services[name] = obj;\r\n    }\r\n    getService(name) {\r\n        return this.services[name];\r\n    }\r\n    imagepath(comp) {\r\n        let images = this.config.images || \"//cdn.dhtmlx.com/edge/imgs/\";\r\n        let skin = this.config.skin || \"material\";\r\n        return images + \"/dhx\" + comp + \"_\" + skin + \"/\";\r\n    }\r\n    destroy() {\r\n        super.destroy();\r\n        this.services = this.config = null;\r\n    }\r\n}\r\n// Common helpers\r\nlet seed = 0;\r\nexport function uid() {\r\n    return (++seed) + \"\";\r\n}\r\nexport function toNode(n) {\r\n    if (typeof n === \"string\") {\r\n        return (document.getElementById(n) || document.querySelector(n));\r\n    }\r\n    return n;\r\n}\r\nexport function event(node, name, handler) {\r\n    node.addEventListener(name, handler);\r\n}\r\nexport function delay(code) {\r\n    window.setTimeout(code, 1);\r\n}\r\nexport class EventSystem {\r\n    constructor(master) {\r\n        this.master = master || this;\r\n        this.evs = {};\r\n    }\r\n    detach(config) {\r\n        for (let key in this.evs) {\r\n            let line = this.evs[key];\r\n            for (let i = line.length - 1; i >= 0; i--) {\r\n                if (line[i].config.tag === config.tag) {\r\n                    line.splice(i, 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    on(name, code, config) {\r\n        name = name.toLowerCase();\r\n        config = config || {};\r\n        let stack = this.evs[name] || [];\r\n        stack.push({ code, config });\r\n        this.evs[name] = stack;\r\n    }\r\n    fire(name, args) {\r\n        name = name.toLowerCase();\r\n        let stack = this.evs[name];\r\n        let result = true;\r\n        if (stack) {\r\n            for (let i = 0; i < stack.length; i++) {\r\n                let line = stack[i];\r\n                let bind = line.config.bind || this.master;\r\n                result = line.code.apply(bind, args);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\nexport function copy(source) {\r\n    let target = Array.isArray(source) ? [] : {};\r\n    for (let method in source) {\r\n        let from = source[method];\r\n        if (from && typeof from === \"object\") {\r\n            if (!(from instanceof Date)) {\r\n                target[method] = copy(from);\r\n            }\r\n            else {\r\n                target[method] = new Date(from);\r\n            }\r\n        }\r\n        else {\r\n            target[method] = from;\r\n        }\r\n    }\r\n    return target;\r\n}\r\nexport class DHXLocale {\r\n    constructor(polyglot, langs, lang) {\r\n        this._polyglot = polyglot;\r\n        this._langs = langs;\r\n        this._locale = lang || \"en\";\r\n        this.setLang(this._locale);\r\n    }\r\n    setLang(locale, phrases) {\r\n        phrases = phrases || this._langs[locale];\r\n        let poly = new this._polyglot({ locale, phrases });\r\n        this._locale = locale;\r\n        this._t = poly.t.bind(poly);\r\n    }\r\n    getLang() {\r\n        return this._locale;\r\n    }\r\n    helper() {\r\n        return this._t;\r\n    }\r\n}\r\n","import * as base from './handlebars/base';\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\nimport SafeString from './handlebars/safe-string';\nimport Exception from './handlebars/exception';\nimport * as Utils from './handlebars/utils';\nimport * as runtime from './handlebars/runtime';\n\nimport noConflict from './handlebars/no-conflict';\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  let hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = SafeString;\n  hb.Exception = Exception;\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function(spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nlet inst = create();\ninst.create = create;\n\nnoConflict(inst);\n\ninst['default'] = inst;\n\nexport default inst;\n","import {createFrame, extend, toString} from './utils';\nimport Exception from './exception';\nimport {registerDefaultHelpers} from './helpers';\nimport {registerDefaultDecorators} from './decorators';\nimport logger from './logger';\n\nexport const VERSION = '4.0.11';\nexport const COMPILER_REVISION = 7;\n\nexport const REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0'\n};\n\nconst objectType = '[object Object]';\n\nexport function HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  registerDefaultHelpers(this);\n  registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: logger,\n  log: logger.log,\n\n  registerHelper: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) { throw new Exception('Arg not supported with multiple helpers'); }\n      extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function(name, partial) {\n    if (toString.call(name) === objectType) {\n      extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new Exception(`Attempting to register a partial called \"${name}\" as undefined`);\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) { throw new Exception('Arg not supported with multiple decorators'); }\n      extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function(name) {\n    delete this.decorators[name];\n  }\n};\n\nexport let log = logger.log;\n\nexport {createFrame, logger};\n","import registerInline from './decorators/inline';\n\nexport function registerDefaultDecorators(instance) {\n  registerInline(instance);\n}\n\n","import {extend} from '../utils';\n\nexport default function(instance) {\n  instance.registerDecorator('inline', function(fn, props, container, options) {\n    let ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function(context, options) {\n        // Create a new partials stack frame prior to exec.\n        let original = container.partials;\n        container.partials = extend({}, original, props.partials);\n        let ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n}\n","\nconst errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];\n\nfunction Exception(message, node) {\n  let loc = node && node.loc,\n      line,\n      column;\n  if (loc) {\n    line = loc.start.line;\n    column = loc.start.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  let tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (let idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexport default Exception;\n","import registerBlockHelperMissing from './helpers/block-helper-missing';\nimport registerEach from './helpers/each';\nimport registerHelperMissing from './helpers/helper-missing';\nimport registerIf from './helpers/if';\nimport registerLog from './helpers/log';\nimport registerLookup from './helpers/lookup';\nimport registerWith from './helpers/with';\n\nexport function registerDefaultHelpers(instance) {\n  registerBlockHelperMissing(instance);\n  registerEach(instance);\n  registerHelperMissing(instance);\n  registerIf(instance);\n  registerLog(instance);\n  registerLookup(instance);\n  registerWith(instance);\n}\n","import {appendContextPath, createFrame, isArray} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('blockHelperMissing', function(context, options) {\n    let inverse = options.inverse,\n        fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        let data = createFrame(options.data);\n        data.contextPath = appendContextPath(options.data.contextPath, options.name);\n        options = {data: data};\n      }\n\n      return fn(context, options);\n    }\n  });\n}\n","import {appendContextPath, blockParams, createFrame, isArray, isFunction} from '../utils';\nimport Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('each', function(context, options) {\n    if (!options) {\n      throw new Exception('Must pass iterator to #each');\n    }\n\n    let fn = options.fn,\n        inverse = options.inverse,\n        i = 0,\n        ret = '',\n        data,\n        contextPath;\n\n    if (options.data && options.ids) {\n      contextPath = appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (isFunction(context)) { context = context.call(this); }\n\n    if (options.data) {\n      data = createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret = ret + fn(context[field], {\n        data: data,\n        blockParams: blockParams([context[field], field], [contextPath + field, null])\n      });\n    }\n\n    if (context && typeof context === 'object') {\n      if (isArray(context)) {\n        for (let j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else {\n        let priorKey;\n\n        for (let key in context) {\n          if (context.hasOwnProperty(key)) {\n            // We're running the iterations one step out of sync so we can detect\n            // the last iteration without have to scan the object twice and create\n            // an itermediate keys array.\n            if (priorKey !== undefined) {\n              execIteration(priorKey, i - 1);\n            }\n            priorKey = key;\n            i++;\n          }\n        }\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n}\n","import Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('helperMissing', function(/* [args, ]options */) {\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new Exception('Missing helper: \"' + arguments[arguments.length - 1].name + '\"');\n    }\n  });\n}\n","import {isEmpty, isFunction} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('if', function(conditional, options) {\n    if (isFunction(conditional)) { conditional = conditional.call(this); }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if ((!options.hash.includeZero && !conditional) || isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function(conditional, options) {\n    return instance.helpers['if'].call(this, conditional, {fn: options.inverse, inverse: options.fn, hash: options.hash});\n  });\n}\n","export default function(instance) {\n  instance.registerHelper('log', function(/* message, options */) {\n    let args = [undefined],\n        options = arguments[arguments.length - 1];\n    for (let i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    let level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log(... args);\n  });\n}\n","export default function(instance) {\n  instance.registerHelper('lookup', function(obj, field) {\n    return obj && obj[field];\n  });\n}\n","import {appendContextPath, blockParams, createFrame, isEmpty, isFunction} from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('with', function(context, options) {\n    if (isFunction(context)) { context = context.call(this); }\n\n    let fn = options.fn;\n\n    if (!isEmpty(context)) {\n      let data = options.data;\n      if (options.data && options.ids) {\n        data = createFrame(options.data);\n        data.contextPath = appendContextPath(options.data.contextPath, options.ids[0]);\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n}\n","import {indexOf} from './utils';\n\nlet logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function(level) {\n    if (typeof level === 'string') {\n      let levelMap = indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function(level, ...message) {\n    level = logger.lookupLevel(level);\n\n    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {\n      let method = logger.methodMap[level];\n      if (!console[method]) {   // eslint-disable-line no-console\n        method = 'log';\n      }\n      console[method](...message);    // eslint-disable-line no-console\n    }\n  }\n};\n\nexport default logger;\n","/* global window */\nexport default function(Handlebars) {\n  /* istanbul ignore next */\n  let root = typeof global !== 'undefined' ? global : window,\n      $Handlebars = root.Handlebars;\n  /* istanbul ignore next */\n  Handlebars.noConflict = function() {\n    if (root.Handlebars === Handlebars) {\n      root.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n}\n","import * as Utils from './utils';\nimport Exception from './exception';\nimport { COMPILER_REVISION, REVISION_CHANGES, createFrame } from './base';\n\nexport function checkRevision(compilerInfo) {\n  const compilerRevision = compilerInfo && compilerInfo[0] || 1,\n        currentRevision = COMPILER_REVISION;\n\n  if (compilerRevision !== currentRevision) {\n    if (compilerRevision < currentRevision) {\n      const runtimeVersions = REVISION_CHANGES[currentRevision],\n            compilerVersions = REVISION_CHANGES[compilerRevision];\n      throw new Exception('Template was precompiled with an older version of Handlebars than the current runtime. ' +\n            'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');\n    } else {\n      // Use the embedded version info since the runtime doesn't know about this revision yet\n      throw new Exception('Template was precompiled with a newer version of Handlebars than the current runtime. ' +\n            'Please update your runtime to a newer version (' + compilerInfo[1] + ').');\n    }\n  }\n}\n\nexport function template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new Exception('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new Exception('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as psuedo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n    let result = env.VM.invokePartial.call(this, partial, context, options);\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);\n      result = options.partials[options.name](context, options);\n    }\n    if (result != null) {\n      if (options.indent) {\n        let lines = result.split('\\n');\n        for (let i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new Exception('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');\n    }\n  }\n\n  // Just add water\n  let container = {\n    strict: function(obj, name) {\n      if (!(name in obj)) {\n        throw new Exception('\"' + name + '\" not defined in ' + obj);\n      }\n      return obj[name];\n    },\n    lookup: function(depths, name) {\n      const len = depths.length;\n      for (let i = 0; i < len; i++) {\n        if (depths[i] && depths[i][name] != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function(i) {\n      let ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function(i, data, declaredBlockParams, blockParams, depths) {\n      let programWrapper = this.programs[i],\n          fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    merge: function(param, common) {\n      let obj = param || common;\n\n      if (param && common && (param !== common)) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context, options = {}) {\n    let data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    let depths,\n        blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context/*, options*/) {\n      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);\n    }\n    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);\n    return main(context, options);\n  }\n  ret.isTop = true;\n\n  ret._setup = function(options) {\n    if (!options.partial) {\n      container.helpers = container.merge(options.helpers, env.helpers);\n\n      if (templateSpec.usePartial) {\n        container.partials = container.merge(options.partials, env.partials);\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = container.merge(options.decorators, env.decorators);\n      }\n    } else {\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n    }\n  };\n\n  ret._child = function(i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new Exception('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new Exception('must pass parent depths');\n    }\n\n    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);\n  };\n  return ret;\n}\n\nexport function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {\n  function prog(context, options = {}) {\n    let currentDepths = depths;\n    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(container,\n        context,\n        container.helpers, container.partials,\n        options.data || data,\n        blockParams && [options.blockParams].concat(blockParams),\n        currentDepths);\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\nexport function resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nexport function invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  const currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  let partialBlock;\n  if (options.fn && options.fn !== noop) {\n    options.data = createFrame(options.data);\n    // Wrapper function to get access to currentPartialBlock from the closure\n    let fn = options.fn;\n    partialBlock = options.data['partial-block'] = function partialBlockWrapper(context, options = {}) {\n\n      // Restore the partial-block from the closure for the execution of the block\n      // i.e. the part inside the block of the partial call.\n      options.data = createFrame(options.data);\n      options.data['partial-block'] = currentPartialBlock;\n      return fn(context, options);\n    };\n    if (fn.partials) {\n      options.partials = Utils.extend({}, options.partials, fn.partials);\n    }\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new Exception('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nexport function noop() { return ''; }\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    let props = {};\n    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n","// Build out our basic SafeString type\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function() {\n  return '' + this.string;\n};\n\nexport default SafeString;\n","const escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nconst badChars = /[&<>\"'`=]/g,\n      possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nexport function extend(obj/* , ...source */) {\n  for (let i = 1; i < arguments.length; i++) {\n    for (let key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nexport let toString = Object.prototype.toString;\n\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nlet isFunction = function(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  isFunction = function(value) {\n    return typeof value === 'function' && toString.call(value) === '[object Function]';\n  };\n}\nexport {isFunction};\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nexport const isArray = Array.isArray || function(value) {\n  return (value && typeof value === 'object') ? toString.call(value) === '[object Array]' : false;\n};\n\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\nexport function indexOf(array, value) {\n  for (let i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\n\nexport function escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) { return string; }\n  return string.replace(badChars, escapeChar);\n}\n\nexport function isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function createFrame(object) {\n  let frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nexport function blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nexport function appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n","// Create a simple path alias to allow browserify to resolve\n// the runtime on a supported path.\nmodule.exports = require('./dist/cjs/handlebars.runtime')['default'];\n",";(function(window, undefined) {var observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          (callbacks[event] = callbacks[event] || []).push(fn)\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) callbacks = {}\n        else {\n          if (fn) {\n            var arr = callbacks[event]\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) arr.splice(i--, 1)\n            }\n          } else delete callbacks[event]\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0)\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args)\n        }\n\n        if (callbacks['*'] && event != '*')\n          el.trigger.apply(el, ['*', event].concat(args))\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\n  /* istanbul ignore next */\n  // support CommonJS, AMD & browser\n  if (typeof exports === 'object')\n    module.exports = observable\n  else if (typeof define === 'function' && define.amd)\n    define(function() { return observable })\n  else\n    window.observable = observable\n\n})(typeof window != 'undefined' ? window : undefined);","import observable from 'riot-observable';\n\nvar RE_ORIGIN = /^.+?\\/\\/+[^/]+/,\n  EVENT_LISTENER = 'EventListener',\n  REMOVE_EVENT_LISTENER = 'remove' + EVENT_LISTENER,\n  ADD_EVENT_LISTENER = 'add' + EVENT_LISTENER,\n  HAS_ATTRIBUTE = 'hasAttribute',\n  POPSTATE = 'popstate',\n  HASHCHANGE = 'hashchange',\n  TRIGGER = 'trigger',\n  MAX_EMIT_STACK_LEVEL = 3,\n  win = typeof window != 'undefined' && window,\n  doc = typeof document != 'undefined' && document,\n  hist = win && history,\n  loc = win && (hist.location || win.location), // see html5-history-api\n  prot = Router.prototype, // to minify more\n  clickEvent = doc && doc.ontouchstart ? 'touchstart' : 'click',\n  central = observable();;;;;;;;;;;;;;;;\n\nvar\n  started = false,\n  routeFound = false,\n  debouncedEmit,\n  base,\n  current,\n  parser,\n  secondParser,\n  emitStack = [],\n  emitStackLevel = 0;;;;;;;;;\n\n/**\n * Default parser. You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_PARSER(path) {\n  return path.split(/[/?#]/)\n}\n\n/**\n * Default parser (second). You can replace it via router.parser method.\n * @param {string} path - current path (normalized)\n * @param {string} filter - filter string (normalized)\n * @returns {array} array\n */\nfunction DEFAULT_SECOND_PARSER(path, filter) {\n  var f = filter\n    .replace(/\\?/g, '\\\\?')\n    .replace(/\\*/g, '([^/?#]+?)')\n    .replace(/\\.\\./, '.*');\n  var re = new RegExp((\"^\" + f + \"$\"));\n  var args = path.match(re);\n\n  if (args) { return args.slice(1) }\n}\n\n/**\n * Simple/cheap debounce implementation\n * @param   {function} fn - callback\n * @param   {number} delay - delay in seconds\n * @returns {function} debounced function\n */\nfunction debounce(fn, delay) {\n  var t;\n  return function () {\n    clearTimeout(t);\n    t = setTimeout(fn, delay);\n  }\n}\n\n/**\n * Set the window listeners to trigger the routes\n * @param {boolean} autoExec - see route.start\n */\nfunction start(autoExec) {\n  debouncedEmit = debounce(emit, 1);\n  win[ADD_EVENT_LISTENER](POPSTATE, debouncedEmit);\n  win[ADD_EVENT_LISTENER](HASHCHANGE, debouncedEmit);\n  doc[ADD_EVENT_LISTENER](clickEvent, click);\n  if (autoExec) { emit(true); }\n}\n\n/**\n * Router class\n */\nfunction Router() {\n  this.$ = [];\n  observable(this); // make it observable\n  central.on('stop', this.s.bind(this));\n  central.on('emit', this.e.bind(this));\n}\n\nfunction normalize(path) {\n  return path.replace(/^\\/|\\/$/, '')\n}\n\nfunction isString(str) {\n  return typeof str == 'string'\n}\n\n/**\n * Get the part after domain name\n * @param {string} href - fullpath\n * @returns {string} path from root\n */\nfunction getPathFromRoot(href) {\n  return (href || loc.href).replace(RE_ORIGIN, '')\n}\n\n/**\n * Get the part after base\n * @param {string} href - fullpath\n * @returns {string} path from base\n */\nfunction getPathFromBase(href) {\n  return base[0] === '#'\n    ? (href || loc.href || '').split(base)[1] || ''\n    : (loc ? getPathFromRoot(href) : href || '').replace(base, '')\n}\n\nfunction emit(force) {\n  // the stack is needed for redirections\n  var isRoot = emitStackLevel === 0;\n  if (MAX_EMIT_STACK_LEVEL <= emitStackLevel) { return }\n\n  emitStackLevel++;\n  emitStack.push(function() {\n    var path = getPathFromBase();\n    if (force || path !== current) {\n      central[TRIGGER]('emit', path);\n      current = path;\n    }\n  });\n  if (isRoot) {\n    var first;\n    while (first = emitStack.shift()) { first(); } // stack increses within this call\n    emitStackLevel = 0;\n  }\n}\n\nfunction click(e) {\n  if (\n    e.which !== 1 // not left click\n    || e.metaKey || e.ctrlKey || e.shiftKey // or meta keys\n    || e.defaultPrevented // or default prevented\n  ) { return }\n\n  var el = e.target;\n  while (el && el.nodeName !== 'A') { el = el.parentNode; }\n\n  if (\n    !el || el.nodeName !== 'A' // not A tag\n    || el[HAS_ATTRIBUTE]('download') // has download attr\n    || !el[HAS_ATTRIBUTE]('href') // has no href attr\n    || el.target && el.target !== '_self' // another window or frame\n    || el.href.indexOf(loc.href.match(RE_ORIGIN)[0]) === -1 // cross origin\n  ) { return }\n\n  if (el.href !== loc.href\n    && (\n      el.href.split('#')[0] === loc.href.split('#')[0] // internal jump\n      || base[0] !== '#' && getPathFromRoot(el.href).indexOf(base) !== 0 // outside of base\n      || base[0] === '#' && el.href.split(base)[0] !== loc.href.split(base)[0] // outside of #base\n      || !go(getPathFromBase(el.href), el.title || doc.title) // route not found\n    )) { return }\n\n  e.preventDefault();\n}\n\n/**\n * Go to the path\n * @param {string} path - destination path\n * @param {string} title - page title\n * @param {boolean} shouldReplace - use replaceState or pushState\n * @returns {boolean} - route not found flag\n */\nfunction go(path, title, shouldReplace) {\n  // Server-side usage: directly execute handlers for the path\n  if (!hist) { return central[TRIGGER]('emit', getPathFromBase(path)) }\n\n  path = base + normalize(path);\n  title = title || doc.title;\n  // browsers ignores the second parameter `title`\n  shouldReplace\n    ? hist.replaceState(null, title, path)\n    : hist.pushState(null, title, path);\n  // so we need to set it manually\n  doc.title = title;\n  routeFound = false;\n  emit();\n  return routeFound\n}\n\n/**\n * Go to path or set action\n * a single string:                go there\n * two strings:                    go there with setting a title\n * two strings and boolean:        replace history with setting a title\n * a single function:              set an action on the default route\n * a string/RegExp and a function: set an action on the route\n * @param {(string|function)} first - path / action / filter\n * @param {(string|RegExp|function)} second - title / action\n * @param {boolean} third - replace flag\n */\nprot.m = function(first, second, third) {\n  if (isString(first) && (!second || isString(second))) { go(first, second, third || false); }\n  else if (second) { this.r(first, second); }\n  else { this.r('@', first); }\n};\n\n/**\n * Stop routing\n */\nprot.s = function() {\n  this.off('*');\n  this.$ = [];\n};\n\n/**\n * Emit\n * @param {string} path - path\n */\nprot.e = function(path) {\n  this.$.concat('@').some(function(filter) {\n    var args = (filter === '@' ? parser : secondParser)(normalize(path), normalize(filter));\n    if (typeof args != 'undefined') {\n      this[TRIGGER].apply(null, [filter].concat(args));\n      return routeFound = true // exit from loop\n    }\n  }, this);\n};\n\n/**\n * Register route\n * @param {string} filter - filter for matching to url\n * @param {function} action - action to register\n */\nprot.r = function(filter, action) {\n  if (filter !== '@') {\n    filter = '/' + normalize(filter);\n    this.$.push(filter);\n  }\n  this.on(filter, action);\n};\n\nvar mainRouter = new Router();\nvar route = mainRouter.m.bind(mainRouter);\n\n/**\n * Create a sub router\n * @returns {function} the method of a new Router object\n */\nroute.create = function() {\n  var newSubRouter = new Router();\n  // assign sub-router's main method\n  var router = newSubRouter.m.bind(newSubRouter);\n  // stop only this sub-router\n  router.stop = newSubRouter.s.bind(newSubRouter);\n  return router\n};\n\n/**\n * Set the base of url\n * @param {(str|RegExp)} arg - a new base or '#' or '#!'\n */\nroute.base = function(arg) {\n  base = arg || '#';\n  current = getPathFromBase(); // recalculate current path\n};\n\n/** Exec routing right now **/\nroute.exec = function() {\n  emit(true);\n};\n\n/**\n * Replace the default router to yours\n * @param {function} fn - your parser function\n * @param {function} fn2 - your secondParser function\n */\nroute.parser = function(fn, fn2) {\n  if (!fn && !fn2) {\n    // reset parser for testing...\n    parser = DEFAULT_PARSER;\n    secondParser = DEFAULT_SECOND_PARSER;\n  }\n  if (fn) { parser = fn; }\n  if (fn2) { secondParser = fn2; }\n};\n\n/**\n * Helper function to get url query as an object\n * @returns {object} parsed query\n */\nroute.query = function() {\n  var q = {};\n  var href = loc.href || current;\n  href.replace(/[?&](.+?)=([^&]*)/g, function(_, k, v) { q[k] = v; });\n  return q\n};\n\n/** Stop routing **/\nroute.stop = function () {\n  if (started) {\n    if (win) {\n      win[REMOVE_EVENT_LISTENER](POPSTATE, debouncedEmit);\n      win[REMOVE_EVENT_LISTENER](HASHCHANGE, debouncedEmit);\n      doc[REMOVE_EVENT_LISTENER](clickEvent, click);\n    }\n    central[TRIGGER]('stop');\n    started = false;\n  }\n};\n\n/**\n * Start routing\n * @param {boolean} autoExec - automatically exec after starting if true\n */\nroute.start = function (autoExec) {\n  if (!started) {\n    if (win) {\n      if (document.readyState === 'interactive' || document.readyState === 'complete') {\n        start(autoExec);\n      }\n      else {\n        document.onreadystatechange = function () {\n          if (document.readyState === 'interactive') {\n            // the timeout is needed to solve\n            // a weird safari bug https://github.com/riot/route/issues/33\n            setTimeout(function() { start(autoExec); }, 1);\n          }\n        };\n      }\n    }\n    started = true;\n  }\n};\n\n/** Prepare the router **/\nroute.base();\nroute.parser();\n\nexport default route;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var Handlebars = require(\"/home/pi/dhtmlx-json-node-es6/node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[7,\">= 4.0.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3=\"function\", alias4=container.escapeExpression;\n\n  return \"<div class='about_author'>version \"\n    + alias4(((helper = (helper = helpers.version || (depth0 != null ? depth0.version : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"version\",\"hash\":{},\"data\":data}) : helper)))\n    + \" By \"\n    + alias4(((helper = (helper = helpers.author || (depth0 != null ? depth0.author : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"author\",\"hash\":{},\"data\":data}) : helper)))\n    + \" See <a href=\\\"https://github.com/rkristelijn/dhtmlx-json-node-es6\\\">my github</a> for more information</div>\\n\";\n},\"useData\":true});","import { DHXView } from 'dhx-optimus';\nvar about = require('./about-template.html');\n\nexport class AboutView extends DHXView {\n  render() {\n    this.ui = this.root.attachHTMLString(about({\n      name: 'DHTMLX ES6 Demo',\n      author: 'Remi Kristelijn',\n      version: '1.3'\n    }\n    ));\n  }\n}\n","import 'less/app.less';\n\nimport { DHXApp } from 'dhx-optimus';\nimport { TopView } from './top/top-view.js';\n\n\nclass MyApp extends DHXApp {\n  constructor(config) {\n    super(config);\n    this.attachEvent('ToolbarClick', (id) => dhtmlx.alert(id + ' button was clicked'));\n  }\n  render() {\n    this.show(TopView);\n  }\n}\n\nwindow.MyApp = MyApp;\n","import { DHXView } from 'dhx-optimus';\n\nexport class ContactsDetailView extends DHXView {\n  render() {\n    this.ui = this.root.attachForm([\n      { type: \"settings\", position: \"label-left\", labelWidth: 110, inputWidth: 160 },\n      { type: \"container\", name: \"photo\", label: \"\", inputWidth: 160, inputHeight: 160, offsetTop: 20, offsetLeft: 65 },\n      { type: \"input\", name: \"name\", label: \"Name\", offsetTop: 20 },\n      { type: \"container\", name: \"maillink\" },\n      { type: \"input\", name: \"email\", label: \"E-mail\", validate: \"ValidEmail\" },\n      { type: \"input\", name: \"phone\", label: \"Phone\" },\n      { type: \"input\", name: \"company\", label: \"Company\" },\n      { type: \"combo\", name: \"pos\", label: \"Position\", options: this._generateOptions() },\n      { type: \"calendar\", name: \"dob\", label: \"Date of Birth\", dateFormat: \"%d/%m/%Y\" },\n      { type: \"input\", name: \"info\", label: \"Additional info <br>(No HTML Allowed)\", rows: 3 },\n      { type: \"input\", name: \"id\", label: \"RowId\", attributes: [\"readonly\"], readonly: true, className: 'input-read-only' }\n    ]);\n\n    this.ui.attachEvent('onValidationError', (id, index, value) => {\n      console.log('ContactsDetailView:ValidationError', id, index, value);\n      return true;\n    });\n    this.ui.attachEvent('onChange', (fieldName, value) => {\n      let rowId = this.ui.getFormData().id;\n      this.getService('ContactsGridService').setCellValue(rowId, fieldName, value);\n    });\n\n    this.addService('ContactsFormService', {\n      load: (data) => {\n        let src = data.photo.match(/src=\\\"([^\\\"]*)\\\"/)[1];\n        this.ui.getContainer('maillink').innerHTML = `<a href=\"mailto:${data.email}\">Send Mail</a>`;\n        this.ui.getContainer('photo').innerHTML = `<img src=\"codebase/imgs/contacts/big/${src.match(/[^\\/]*$/)[0]}\" border=\"0\" class=\"form_photo\">`;\n        this.ui.setFormData(data);\n      },\n      setItemValue: (name, value) => {\n        switch (name) {\n          case 'pos':\n            this.ui.getCombo('pos').selectOption(value);\n            break;\n          default:\n            this.ui.setItemValue(name, value);\n            break;\n        }\n      }\n    });\n  }\n\n  //The default date format in dhtmlxCalendar is '%Y-%m-%d'.\n  _getDateString(date) {\n    return date.getFullYear() + '-'\n      + ('0' + (date.getMonth() + 1)).slice(-2) + '-'\n      + ('0' + date.getDate()).slice(-2);\n  }\n\n  _generateOptions() {\n    let options = [];\n    let positions = this.getService('ContactsGridService').getPositions();\n\n    for (let position of positions) {\n      options.push({ text: position, value: position });\n    }\n    return options;\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport route from 'riot-route';\n\nconst contactsUrl = 'codebase/contacts.json';\n\nexport class ContactsGridView extends DHXView {\n  render() {\n    this.ui = this.root.attachGrid();\n    this.ui.enableEditEvents(true, false, true);\n    this.ui.enableValidation(true);\n    this.ui.setColValidators(\",NotEmpty,ValidDate,,ValidEmail,ValidNumeric,\");\n    this.ui.init();\n    this._load(() => {\n      this.ui.cellChangeEvent = this.ui.attachEvent('onCellChanged', this.ui.cellChangedHandler);\n    });\n\n    this.ui.confirm = {\n      show: (type, title, message, cb) => {\n        dhtmlx.message({\n          type: type,\n          title: title + this.boxCounter,\n          text: message,\n          callback: function (r) { cb(r); }\n        });\n        return true;\n      }\n    }\n\n    this.ui.attachEvent('onValidationError', (row, col, value) => {\n      switch (col) {\n        case 1:\n          this.ui.confirm.show('alert-warning', 'Wrong field Value', `Value in ${row},${col} should not be empty<br>Press enter`,\n            (r) => { this.ui.selectCell(row - 1, col, true, true, true); }\n          );\n          return true;\n          break;\n        case 2:\n          let parts = value.split('/');\n          if (parts.length !== 3) {\n            this.ui.confirm.show('alert-warning', 'Wrong field Value', `Value in ${row},${col} should not be dd/mm/yyyy<br>Press enter`,\n              (r) => { this.ui.selectCell(row - 1, col, true, true, true); }\n            );\n            return true;\n          }\n          let dt = new Date(parts[2], parts[1] - 1, parts[0], 0, 0, 0);\n          if (dt === 'Invalid Date') return true;\n          if (!(dt === 'Invalid Date') && dt.getDate() === parseInt(parts[0]) && (dt.getMonth() + 1) === parseInt(parts[1]) && dt.getFullYear() === parseInt(parts[2])) {\n            return false;\n          } else {\n            this.ui.confirm.show('alert-warning', 'Wrong field Value', `Value in ${row},${col} should not be dd/mm/yyyy<br>${value} is not a date<br>Press enter`,\n              (r) => { this.ui.selectCell(row - 1, col, true, true, true); }\n            );\n            return true;\n          }\n          break;\n      }\n    });\n    this.ui.cellChangedHandler = (row, col, value) => {\n      let name = this.ui.getColumnId(col);\n      console.log('ContactsGridView:onCellChanged', row, col, name, value);\n      this.getService('ContactsFormService').setItemValue(name, value);\n    };\n\n    this.addService('ContactsGridService', {\n      selectFirstRow: () => {\n        this.ui.selectRow(0, true);\n      },\n      selectRow: (id) => {\n        this.ui.selectRow(id);\n      },\n      setCellValue: (id, fieldName, value) => {\n        let fieldIndex = this.ui.getColIndexById(fieldName);\n        this.ui.detachEvent(this.ui.cellChangeEvent);\n        this.ui.cells(id, fieldIndex).setValue(value);\n        this.ui.cellChangeEvent = this.ui.attachEvent('onCellChanged', this.ui.cellChangedHandler);\n      },\n      selectRowById: (id) => {\n        this.ui.selectRowById(id, true, true, true);\n      },\n      getRowData: (id) => {\n        let data = this.ui.getRowData(id);\n        data.id = id;\n        return data;\n      },\n      getAllRowIds: () => {\n        return this.ui.getAllRowIds(',').split(',');\n      },\n      getPositions: () => {\n        return [\n          \"Accountant\",\n          \"Back-end Developer\",\n          \"Business Analyst\",\n          \"Chief Engineer\",\n          \"Chief Executive Officer (CEO)\",\n          \"Chief Information Officer (CIO)\",\n          \"Chief Information Security Officer (CISO)\",\n          \"Chief Privacy Officer (CPO)\",\n          \"Front-end Developer\",\n          \"Full-stack Web Developer\",\n          \"HR Manager\",\n          \"Marketing Specialist\",\n          \"Product Manager\",\n          \"Project Manager\",\n          \"QA Engineer\",\n          \"Sales Manager\",\n          \"Web Developer\"\n        ];\n      }\n    });\n\n    this._populateCombo(this.ui.getCombo(3));\n\n    this.ui.attachEvent('onRowSelect', (id) => {\n      this.getService('ContactsFormService').load(\n        this.getService('ContactsGridService').getRowData(id)\n      );\n      window.history.replaceState({ type: 'contact', id: id }, `Contact: ${id}`, `#contacts/${id}`);\n    });\n  }\n\n  _populateCombo(combo) {\n    let positions = this.getService('ContactsGridService').getPositions();\n\n    for (let index in positions) {\n      combo.put(index, positions[index]);\n    }\n  }\n\n  _getDetailView() {\n    let url = window.location.href.match(/#(.*contacts\\/)(.*)/);\n    let rowId = url && url.length === 3 ? url[2] : false;\n    return rowId;\n  }\n\n  _isValidId(id) {\n    let ids = this.getService('ContactsGridService').getAllRowIds();\n    let search = \"\" + id;\n    return ids.indexOf(search) >= 0;\n  }\n\n  _load(callback) {\n    this.ui.load(contactsUrl, () => {\n      let rowId = this._getDetailView();\n      let isValidId = this._isValidId(rowId);\n      if (rowId !== '' && rowId !== false && !isValidId) {\n        dhtmlx.alert(`${rowId.replace(/[^a-z0-9]/gi, '')} is not found`);\n        route('/contacts');\n      } else {\n        if (isValidId) {\n          this.getService('ContactsGridService').selectRowById(rowId);\n        } else {\n          this.getService('ContactsGridService').selectFirstRow();\n        }\n        callback();\n      }\n    }, 'json');\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport { ContactsGridView } from './contacts-grid-view';\nimport { ContactsDetailView } from './contacts-detail-view';\n\nexport class ContactsView extends DHXView {\n  render() {\n    this.ui = this.root.attachLayout({\n      pattern: '2U',\n      cells: [{\n        id: 'a',\n        header: false\n      }, {\n        id: 'b',\n        header: false,\n        width: 300,\n      }]\n    });\n    this.ui.setAutoSize('a', 'a;b');\n    this.show(ContactsGridView, this.ui.cells('a'));\n    this.show(ContactsDetailView, this.ui.cells('b'));\n  }\n}\n","import { DHXView } from 'dhx-optimus';\n\nconst eventsUrl = 'codebase/events.json';\n\nexport class EventsDataView extends DHXView {\n  render() {\n    this.ui = this.root.attachDataView({\n      type: {\n        template: \"<div class='event_image'><img src='codebase/imgs/events/#image#' border='0' ondragstart='return false;'></div>\" +\n          \"<div class='event_title'>#title#</div>\" +\n          \"<div class='event_date'>#dateString#</div>\" +\n          \"<div class='event_place'>#place#</div>\",\n        margin: 10,\n        padding: 20,\n        height: 300,\n        width: 204\n      },\n      drag: false,\n      select: true,\n      edit: false\n    });\n\n    this.addService('EventsDataService', {\n      select: (id) => {\n        this.ui.select(id);\n      },\n      exists: (id) => {\n        return this.ui.exists(id);\n      },\n      update: (id, data) => {\n        this.ui.update(id, data);\n      }\n    });\n\n    this.ui.attachEvent('onXLE', () => {\n      let id = this._getDetailView();\n      let exists = this.getService('EventsDataService').exists(id);\n      if (!exists) this.ui.select(this.ui.first());\n      else this.ui.select(id);\n    });\n    this.ui.attachEvent('onAfterSelect', (id) => {\n      let data = this.ui.get(id);\n      this.getService('EventsFormService').load(data);\n      window.history.replaceState({ type: 'events', id: id }, `Event: ${id}`, `#events/${id}`);\n    });\n    this._load();\n  }\n  _getDetailView() {\n    let url = window.location.href.match(/#(.*events\\/)(.*)/);\n    let rowId = url && url.length === 3 ? url[2] : false;\n    return rowId;\n  }\n\n  _load() {\n    this.ui.load(eventsUrl, 'json');\n  }\n}\n","import { DHXView } from 'dhx-optimus';\n\nexport class EventsDetailView extends DHXView {\n  render() {\n    this.ui = this.root.attachForm([\n      { type: \"settings\", position: \"label-left\", labelWidth: 110, inputWidth: 160 },\n      { type: \"container\", name: \"photo\", label: \"\", inputWidth: 200, inputHeight: 200, offsetTop: 20, offsetLeft: 65 },\n      { type: \"input\", name: \"image\", label: \"Image\", offsetTop: 20 },\n      { type: \"input\", name: \"title\", label: \"Title\" },\n      { type: \"calendar\", name: \"date\", label: \"Date\", dateFormat: \"%d/%m/%Y\" },\n      { type: \"input\", name: \"place\", label: \"Place\" },\n      { type: \"input\", name: \"lat\", label: \"Latitude\" },\n      { type: \"input\", name: \"lng\", label: \"Longitude\" },\n      { type: \"input\", name: \"id\", label: \"RowId\", attributes: [\"readonly\"], readonly: true, className: 'input-read-only' }\n    ]);\n    this.ui.attachEvent('onChange', (fieldName, value) => {\n      let id = this.ui.getFormData().id;\n      this.getService('EventsDataService').update(id, this.ui.getFormData());\n    });\n    this.addService('EventsFormService', {\n      load: (data) => {\n        this.ui.getContainer('photo').innerHTML = `<img src=\"codebase/imgs/events/${data.image}\" border=\"0\" class=\"form_photo\">`;\n        this.ui.setFormData(data);\n      }\n    });\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport { EventsDataView } from './events-data-view';\nimport { EventsDetailView } from './events-detail-view';\n\nexport class EventsView extends DHXView {\n  render() {\n    this.ui = this.root.attachLayout({\n      pattern: '2U',\n      cells: [{\n        id: 'a',\n        header: false\n      }, {\n        id: 'b',\n        header: false,\n        width: 300,\n      }]\n    });\n    this.ui.setAutoSize('a', 'a;b');\n    this.show(EventsDataView, this.ui.cells('a'));\n    this.show(EventsDetailView, this.ui.cells('b'));\n  }\n}\n","// removed by extract-text-webpack-plugin","import { DHXView } from 'dhx-optimus';\n\nexport class ProjectsDetailView extends DHXView {\n  render() {\n    this.ui = this.root.attachForm([\n      { type: \"settings\", position: \"label-left\", labelWidth: 110, inputWidth: 160 },\n      { type: \"container\", name: \"photo\", label: \"\", inputWidth: 160, inputHeight: 160, offsetTop: 20, offsetLeft: 65 },\n      { type: \"calendar\", name: \"due\", label: \"Due date\", offsetTop: 20, dateFormat: \"%d/%m/%Y\" },\n      { type: \"input\", name: \"project\", label: \"Project\" },\n      { type: \"combo\", name: \"status\", label: \"Status\", options: this._generateOptions() },\n      {\n        type: \"combo\", name: \"assign\", label: \"Assigned to\", comboType: 'checkbox', options: [\n          { value: 'Steve Anderson', text: 'Steve Anderson' },\n          { value: 'Margaret Black', text: 'Margaret Black' },\n          { value: 'Jake Peterson', text: 'Jake Peterson' },\n          { value: 'Bill Jackson', text: 'Bill Jackson' },\n          { value: 'John Woken', text: 'John Woken' },\n          { value: 'Jennifer Miles', text: 'Jennifer Miles' },\n          { value: 'Cortny Barrens', text: 'Cortny Barrens' },\n          { value: 'Edward Eden', text: 'Edward Eden' },\n          { value: 'Andrew Scott', text: 'Andrew Scott' },\n          { value: 'Jane Wilson', text: 'Jane Wilson' },\n          { value: 'Alan Robbinson', text: 'Alan Robbinson' },\n          { value: 'William Parson', text: 'William Parson' },\n          { value: 'Charlotte Wolks', text: 'Charlotte Wolks' },\n          { value: 'Pamela Worner', text: 'Pamela Worner' },\n          { value: 'Ralf Ross', text: 'Ralf Ross' },\n          { value: 'Dan Witley', text: 'Dan Witley' },\n          { value: 'Anna Harrison', text: 'Anna Harrison' }\n        ]\n      },\n      //{ type: \"combo\", name: 'assign', label: 'Assigned to', comboType: 'checkbox', options: this._getAllAssignees() },\n      { type: \"input\", name: \"info\", label: \"Additional info<br>(HTML Allowed)\", rows: 3 },\n      { type: \"input\", name: \"id\", label: \"RowId\", attributes: [\"readonly\"], readonly: true, className: 'input-read-only' }\n    ]);\n\n    //this.assignees = this._getAllAssignees();\n\n    this.ui.attachEvent('onChange', (fieldName, value) => {\n      // console.log('onChange', fieldName, value);\n      let rowId = this.ui.getFormData().id;\n      switch (fieldName) {\n        case \"assign\":\n          break;\n        default:\n          //newValue = value;\n          this.getService('ProjectsGridService').setCellValue(rowId, fieldName, newValue);\n      }\n    });\n\n    this.combo = this.ui.getCombo('assign');\n\n    this.combo.attachEvent('onCheck', (value, state) => {\n      let rowId = this.ui.getFormData().id;\n      //console.log('onCheck', value, state, rowId);\n      let newValue = this.combo.getChecked().join(', ');\n      this.getService('ProjectsGridService').setCellValue(rowId, 'assign', newValue);\n    });\n\n    this.addService('ProjectsFormService', {\n      load: (data) => {\n        this.ui.getContainer('photo').innerHTML = `<img src=\"codebase/imgs/projects/project.png\" border=\"0\" class=\"form_photo\">`;\n        let assigneesCombo = this.ui.getCombo('assign');\n        let checkedAssignees = data.assign.split(',');\n        for (let item of checkedAssignees) {\n          let index = assigneesCombo.getIndexByValue(item);\n          assigneesCombo.setChecked(index, true);\n        }\n\n        this.ui.setFormData(data);\n      },\n      setItemValue: (name, value) => {\n        switch (name) {\n          case 'status':\n            this.ui.getCombo('status').selectOption(value);\n            break;\n          default:\n            this.ui.setItemValue(name, value);\n            break;\n        }\n      }\n    });\n  }\n\n  _generateOptions() {\n    let options = [];\n    let positions = this.getService('ProjectsGridService').getStatusList();\n\n    for (let position of positions) {\n      options.push({ text: position, value: position });\n    }\n    return options;\n  }\n\n  async _getAllAssignees() {\n    let assignees = await (await fetch('./codebase/contacts.json')\n      .then(response => response.json())\n      .then((data) => {\n        let assignees = [];\n        console.log('resolving');\n        for (let contact of data.rows) {\n          console.log(contact.data[1]);\n          assignees.push({ text: contact.data[1], value: contact.data[1], checked: false });\n        }\n        assignees.sort();\n        console.log('returning 1', assignees);\n        return assignees;\n      }));\n    console.log('returning 2', assignees);\n    return assignees;\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport { combo } from 'dhx-optimus';\nimport route from 'riot-route';\n\nconst projectsUrl = 'codebase/projects.json';\n\nexport class ProjectsGridView extends DHXView {\n  render() {\n    // from script\n    //let myCombo = new this.root.combo(\"combo_zone_script\", \"combo_script\", 200, \"checkbox\"); // make sure you set 4th param to \"checkbox\"\n    //let myCombo = new dhtmlx.dhtmlXCombo(\"combo_zone\", \"combo\", 230);\n    //let combo = this.root.dh.dhtmlxCombo(\"\");\n\n    this.ui = this.root.attachGrid();\n    this.ui.enableEditEvents(true, false, true);\n    this.ui.init();\n    this._load(() => {\n      this.ui.cellChangeEvent = this.ui.attachEvent('onCellChanged', this.ui.cellChangedHandler);\n    });\n\n    this.ui.attachEvent('onRowSelect', (id) => {\n      let rowId = this.getService('ProjectsGridService').getRowData(id);\n      this.getService('ProjectsFormService').load(rowId);\n      this.getService('ProjectsSalesGraphService').load(rowId.id);\n      this.getService('ProjectsSalesGridService').load(rowId.id);\n      window.history.replaceState({ type: 'projects', id: id }, `Project: ${id}`, `#projects/${id}`);\n    });\n\n    this.ui.cellChangedHandler = (row, col, value) => {\n      let name = this.ui.getColumnId(col);\n      this.getService('ProjectsFormService').setItemValue(name, value);\n    };\n\n    this.addService('ProjectsGridService', {\n      selectFirstRow: () => {\n        this.ui.selectRow(0, true);\n      },\n      selectRow: (id) => {\n        this.ui.selectRow(id);\n      },\n      selectRowById: (id) => {\n        this.ui.selectRowById(id, true, true, true);\n      },\n      getRowData: (id) => {\n        let data = this.ui.getRowData(id);\n        data.id = id;\n        return data;\n      },\n      getAllRowIds: () => {\n        return this.ui.getAllRowIds(',').split(',');\n      },\n      getStatusList: () => {\n        return [\n          'Not started',\n          'In progress',\n          'Waiting',\n          'Closed'\n        ];\n      },\n      setCellValue: (id, fieldName, value) => {\n        let fieldIndex = this.ui.getColIndexById(fieldName);\n        this.ui.detachEvent(this.ui.cellChangeEvent);\n        this.ui.cells(id, fieldIndex).setValue(value);\n        this.ui.cellChangeEvent = this.ui.attachEvent('onCellChanged', this.ui.cellChangedHandler);\n      }\n    });\n\n    this._populateCombo(this.ui.getCombo(2));\n    //this._populateComboAssignees(this.ui.getCombo(3));\n  }\n\n  // _populateComboAssignees(combo) {\n  //   // combo.setTemplate({\n  //   //   input: \"#capital#, #country#\",\n  //   //   columns: [\n  //   //     {header: \"&nbsp;\",  width:  41, \t\toption: \"#checkbox#\"}, // column for checkboxes\n  //   //     {header: \"&nbsp;\",  width:  40, css: \"flag\",    option: \"<img src='#flag#' border='0' style='margin-top: 8px; margin-left: 2px;'>\"},\n  //   //     {header: \"Capital\", width:  80, css: \"capital\", option: \"#capital#\"},\n  //   //     {header: \"Country\", width: 110, css: \"country\", option: \"#country#\"},\n  //   //     {header: \"Proverb\", width: 250, css: \"proverb\", option: \"#proverb#\"}\n  //   //   ]\n  //   // });\n\n  //   this._getAllAssignees().then((assignees) => {\n  //     for (let index in assignees) {\n  //       combo.put(index, assignees[index], true);\n  //       //combo.setChecked(index, true);\n  //     }\n  //   })\n  // }\n\n  _getDetailView() {\n    let url = window.location.href.match(/#(.*projects\\/)(.*)/);\n    let rowId = url && url.length === 3 ? url[2] : false;\n    return rowId;\n  }\n\n  _isValidId(id) {\n    let ids = this.getService('ProjectsGridService').getAllRowIds();\n    let search = \"\" + id;\n    return ids.indexOf(search) >= 0;\n  }\n\n  _populateCombo(combo) {\n    let positions = this.getService('ProjectsGridService').getStatusList();\n\n    for (let index in positions) {\n      combo.put(index, positions[index]);\n    }\n  }\n  _load(callback) {\n    this.ui.load(projectsUrl, () => {\n      let rowId = this._getDetailView();\n      let isValidId = this._isValidId(rowId);\n      if (rowId !== '' && rowId !== false && !isValidId) {\n        dhtmlx.alert(`${rowId.replace(/[^a-z0-9]/gi, '')} is not found`);\n        route('/projects');\n      } else {\n        if (isValidId) {\n          this.getService('ProjectsGridService').selectRowById(rowId);\n        } else {\n          this.getService('ProjectsGridService').selectFirstRow();\n        }\n        callback();\n      }\n    }, 'json');\n  }\n\n  // _getAllAssignees() {\n  //   let assignees = [];\n  //   return fetch('./codebase/contacts.json')\n  //     .then(response => response.json())\n  //     .then((data) => {\n  //       for(let contact of data.rows) {\n  //         assignees.push(contact.data[1])\n  //       }\n  //       assignees.sort();\n  //       return assignees;\n  //     })\n  // }\n}\n","import { DHXView } from 'dhx-optimus';\n\nconst graphUrl = './codebase/chart/';\n\nexport class ProjectsSalesGraphView extends DHXView {\n  render() {\n    this.ui = this.root.attachChart({\n      view: \"bar\",\n      value: \"#sales#\",\n      gradient: \"rising\",\n      radius: 0,\n      legend: {\n        width: 75,\n        align: \"right\",\n        valign: \"middle\",\n        template: \"#month#\"\n      }\n    });\n    this.addService('ProjectsSalesGraphService', {\n      load: (id) => {\n        this._load(id);\n      }\n    });\n  }\n\n  _load(id) {\n    this.ui.clearAll();\n    this.ui.load(`${graphUrl}${id}.json`, 'json');\n  }\n}\n","import { DHXView } from 'dhx-optimus';\n\nconst gridBaseUrl = 'codebase/chart/';\n\nexport class ProjectsSalesGridView extends DHXView {\n  render() {\n    this.ui = this.root.attachGrid();\n    this.ui.init();\n    this.addService('ProjectsSalesGridService', {\n      load: (id) => {\n        this._load(id);\n      }\n    });\n  }\n\n  _load(id) {\n    this.ui.load(`${gridBaseUrl}${id}_grid.json`, 'json');\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport { ProjectsSalesGraphView } from './projects-sales-graph-view';\nimport { ProjectsSalesGridView } from './projects-sales-grid-view'\n\nexport class ProjectsSubView extends DHXView {\n  render() {\n    this.ui = this.root.attachTabbar({\n      arrows_mode: \"auto\",\n      tabs: [\n        { id: \"statsGraph\", text: \"Graph\", selected: 1 },\n        { id: \"statsData\", text: \"Data\", selected: 0 }\n      ]\n    });\n\n    this.show(ProjectsSalesGraphView, this.ui.cells('statsGraph'));\n    this.show(ProjectsSalesGridView, this.ui.cells('statsData'));\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport { ProjectsGridView } from './projects-grid-view';\nimport { ProjectsDetailView } from './projects-detail-view';\nimport { ProjectsSubView } from './projects-sub-view';\n\nexport class ProjectsView extends DHXView {\n  render() {\n    this.ui = this.root.attachLayout({\n      pattern: '3J',\n      cells: [{\n        id: 'a',\n        header: false\n      }, {\n        id: 'b',\n        header: false,\n        width: 300\n      }, {\n        id: 'c',\n        height: 250\n      }]\n    });\n    this.ui.setAutoSize(\"a;c\", \"a;b\");\n\n    this.show(ProjectsGridView, this.ui.cells('a'));\n    this.show(ProjectsDetailView, this.ui.cells('b'));\n    this.show(ProjectsSubView, this.ui.cells('c'));\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport route from 'riot-route';\n\nconst settingsUrl = 'codebase/settings.json';\n\nexport class SettingsDataView extends DHXView {\n  render() {\n    this.ui = this.root.attachDataView({\n      type: {\n        template: \"<div style='position:relative;'>\" +\n          \"<div class='settings_image'><img src='codebase/imgs/settings/#image#' border='0' ondragstart='return false;'></div>\" +\n          \"<div class='settings_title'>#title#\" +\n          \"<div class='settings_descr'>#descr#</div>\" +\n          \"</div>\" +\n          \"</div>\",\n        margin: 10,\n        padding: 20,\n        height: 120\n      },\n      autowidth: 2,\n      drag: false,\n      select: true,\n      edit: false\n    });\n    this.addService('SettingsDataService', {\n      select: (id) => {\n        this.ui.select(id);\n      }\n    });\n    this.ui.attachEvent(\"onXLE\", () => {\n      let id = this._getDetailView();\n      if(!id) this.ui.select(this.ui.first());\n      else this.ui.select(id);\n    });\n    this.ui.attachEvent('onAfterSelect', (id) => {\n      let isValidId = this._isValidId(id);\n      if (!isValidId) {\n        dhtmlx.alert(`${rowId.replace(/[^a-z0-9]/gi, '')} is not found`);\n      } else {\n        this.getService('SettingsFormService').loadStruct(id);\n        window.history.replaceState({ type: 'settings', id: id }, `Settings: ${id}`, `#settings/${id}`);\n      }\n    });\n    this._load();\n  }\n  _getDetailView() {\n    let url = window.location.href.match(/#(.*settings\\/)(.*)/);\n    let rowId = url && url.length === 3 ? url[2] : false;\n    return rowId;\n  }\n  _load() {\n    this.ui.load(settingsUrl, 'json');\n  }\n  _isValidId(id) {\n    let ids = ['contacts', 'events', 'projects', 'configuration', 'exportprint', 'notifications', 'statistics', 'removeworkspace'];\n    let search = \"\" + id;\n    return ids.indexOf(search) >= 0;\n  }\n}\n","import { DHXView } from 'dhx-optimus';\n\nexport class SettingsDetailView extends DHXView {\n  render() {\n    this.addService('SettingsFormService', {\n      loadStruct: (id) => {\n        this._load(id);\n      }\n    });\n  }\n\n  _load(id) {\n    let struct = this._getStruct(id);\n    this.ui = this.root.attachForm(struct);\n  }\n\n  _getStruct(id) {\n    let settings = {\n      contacts: [\n        { type: \"label\", label: \"Contacts settings\", labelWidth: \"auto\" },\n        {\n          type: \"fieldset\", width: 250, offsetTop: 10, label: \"View\", list: [\n            { type: \"settings\", position: \"label-right\", labelWidth: \"auto\", inputWidth: \"auto\" },\n            { type: \"radio\", name: \"view\", label: \"Detailed\", checked: true },\n            { type: \"newcolumn\" },\n            { type: \"radio\", name: \"view\", label: \"Compact\", offsetLeft: 15 }\n          ]\n        },\n        {\n          type: \"fieldset\", width: 250, offsetTop: 10, label: \"Show fields\", list: [\n            { type: \"checkbox\", label: \"Name\", checked: true, inputWidth: \"auto\" },\n            { type: \"checkbox\", label: \"Date of Birth\", checked: true },\n            { type: \"checkbox\", label: \"Position\", checked: true },\n            { type: \"checkbox\", label: \"Email Address\", checked: true },\n            { type: \"checkbox\", label: \"Phone\", checked: true },\n            { type: \"checkbox\", label: \"Company\", checked: true },\n            { type: \"checkbox\", label: \"Additional\", checked: true }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Save\" },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Cancel\", className: \"gray_btn\", offsetLeft: 5 }\n          ]\n        }\n      ],\n      events: [\n        { type: \"label\", label: \"Events\", labelWidth: \"auto\" },\n        {\n          type: \"fieldset\", width: 250, offsetTop: 10, label: \"View\", list: [\n            { type: \"settings\", position: \"label-right\", labelWidth: \"auto\", inputWidth: \"auto\" },\n            { type: \"radio\", name: \"view\", label: \"Detailed\", checked: true },\n            { type: \"newcolumn\" },\n            { type: \"radio\", name: \"view\", label: \"Compact\", offsetLeft: 15 }\n          ]\n        },\n        {\n          type: \"fieldset\", width: 250, offsetTop: 10, label: \"Show fields\", list: [\n            { type: \"settings\", labelWidth: 170, inputWidth: \"auto\" },\n            { type: \"checkbox\", label: \"All events\", checked: true },\n            { type: \"checkbox\", label: \"Upcoming events in 1 month\", checked: true },\n            { type: \"checkbox\", label: \"Upcoming events in 2 month\", checked: true },\n            { type: \"checkbox\", label: \"Upcoming events in 3 month\", checked: true }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Save\" },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Cancel\", className: \"gray_btn\", offsetLeft: 5 }\n          ]\n        }\n      ],\n      projects: [\n        { type: \"label\", label: \"Projects settings\", labelWidth: \"auto\" },\n        {\n          type: \"fieldset\", width: 250, offsetTop: 10, label: \"View\", list: [\n            { type: \"settings\", position: \"label-right\", labelWidth: \"auto\", inputWidth: \"auto\" },\n            { type: \"radio\", name: \"view\", label: \"Detailed\", checked: true },\n            { type: \"newcolumn\" },\n            { type: \"radio\", name: \"view\", label: \"Compact\", offsetLeft: 15 }\n          ]\n        },\n        {\n          type: \"fieldset\", width: 250, offsetTop: 10, label: \"Show fields\", list: [\n            { type: \"checkbox\", label: \"Due date\", checked: true, inputWidth: \"auto\" },\n            { type: \"checkbox\", label: \"Project\", checked: true },\n            { type: \"checkbox\", label: \"Status\", checked: true },\n            { type: \"checkbox\", label: \"Assigned to\", checked: true },\n            { type: \"checkbox\", label: \"Additional\", checked: true }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Save\" },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Cancel\", className: \"gray_btn\", offsetLeft: 5 }\n          ]\n        }\n      ],\n      configuration: [\n        { type: \"label\", label: \"Configuration\", labelWidth: \"auto\" },\n        {\n          type: \"block\", width: 250, offsetTop: 10, blockOffset: 0, list: [\n            { type: \"settings\", labelWidth: 120, inputWidth: 120 },\n            { type: \"input\", label: \"Full Name\" },\n            { type: \"input\", label: \"Email Address\" },\n            { type: \"input\", label: \"New Password\" },\n            { type: \"input\", label: \"Repeat Password\" }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Save\" },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Cancel\", className: \"gray_btn\", offsetLeft: 5 }\n          ]\n        }\n      ],\n      exportprint: [\n        { type: \"label\", label: \"Export to PDF / Print\", labelWidth: \"auto\" },\n        {\n          type: \"block\", width: \"auto\", offsetTop: 10, blockOffset: 0, list: [\n            { type: \"label\", label: \"<span style='font-weight:normal;color:black;'>Choose the page for export/print</span>\", labelWidth: \"auto\" },\n            {\n              type: \"combo\", inputWidth: 220, options: [\n                { text: \"Contacts\" }, { text: \"Projects\" }, { text: \"Events\" }\n              ]\n            }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Export\" },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Print\", offsetLeft: 5 },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Cancel\", className: \"gray_btn\", offsetLeft: 5 }\n          ]\n        }\n      ],\n      notifications: [\n        { type: \"label\", label: \"Notifications\", labelWidth: \"auto\" },\n        {\n          type: \"fieldset\", width: 250, offsetTop: 10, label: \"Notify via emal when\", list: [\n            { type: \"settings\", labelWidth: 170, inputWidth: \"auto\" },\n            { type: \"checkbox\", label: \"Two weeks left before the due date of a project\", checked: true },\n            { type: \"checkbox\", label: \"One week left before the due date of a project\", checked: true },\n            { type: \"checkbox\", label: \"One day left before the due date of a project\", checked: true },\n            { type: \"checkbox\", label: \"Two weeks left before an event\", checked: true },\n            { type: \"checkbox\", label: \"One week left before an event\", checked: true },\n            { type: \"checkbox\", label: \"One day left before an event\", checked: true }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Save\" },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Cancel\", className: \"gray_btn\", offsetLeft: 5 }\n          ]\n        }\n      ],\n      statistics: [\n        { type: \"label\", label: \"Export to PDF / Print\", labelWidth: \"auto\" },\n        {\n          type: \"block\", width: \"auto\", offsetTop: 10, blockOffset: 0, list: [\n            { type: \"label\", label: \"<span style='font-weight:normal;color:black;'>Choose the data for displaying activity</span>\", labelWidth: \"auto\" },\n            {\n              type: \"combo\", inputWidth: 220, options: [\n                { text: \"Contacts\" }, { text: \"Projects\" }, { text: \"Events\" }\n              ]\n            }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Get statistic\" }\n          ]\n        }\n      ],\n      removeworkspace: [\n        { type: \"label\", label: \"Remove your workspace\", labelWidth: \"auto\" },\n        {\n          type: \"block\", width: \"auto\", offsetTop: 10, blockOffset: 0, list: [\n            { type: \"label\", label: \"<span style='font-weight:normal;color:black;'>You won't be able to restore the data.<br>  Are you sure?</span>\", labelWidth: \"auto\" }\n          ]\n        },\n        {\n          type: \"block\", width: \"auto\", blockOffset: 0, offsetTop: 10, list: [\n            { type: \"button\", value: \"Pretty Sure!\" },\n            { type: \"newcolumn\" },\n            { type: \"button\", value: \"Ooops\", className: \"gray_btn\", offsetLeft: 5 }\n          ]\n        }\n      ]\n    };\n    return settings[id];\n  }\n}\n","import { DHXView } from 'dhx-optimus';\nimport { SettingsDataView } from './settings-data-view';\nimport { SettingsDetailView } from './settings-detail-view';\n\nexport class SettingsView extends DHXView {\n  render() {\n    this.ui = this.root.attachLayout({\n      pattern: '2U',\n      cells: [{\n        id: 'a',\n        header: false\n      }, {\n        id: 'b',\n        header: false,\n        width: 330,\n      }]\n    });\n    this.ui.setAutoSize('a', 'a;b');\n\n    this.show(SettingsDataView, this.ui.cells('a'));\n    this.show(SettingsDetailView, this.ui.cells('b'));\n  }\n}\n","import { DHXView } from 'dhx-optimus';\n\nexport class SidebarView extends DHXView {\n  render() {\n    dhtmlXSideBar.prototype.templates.faTiles =\n      '<i><div class=\"dhxsidebar_item_icon #icon#\"></div><div class=\"dhxsidebar_item_text\">#text#</div></i>';\n    this.ui = this.root.attachSidebar({\n      // single_cell : true,\n      template: 'faTiles'\n    });\n    this.ui.attachEvent('onSelect', (id) => {\n\n      if(id === 'menu') {\n        this.ui.conf.selected = null;\n      } else {\n        this.ui._setItemInactive('menu');\n      }\n      this.callEvent('SideBar', [id]);\n    });\n    this._load();\n\n    this.addService('SidebarService', {\n      select: (id) => {\n        this.ui.items(id).setActive();\n      }\n    });\n  }\n\n  _load() {\n    const struct = {\n      items: [\n        {\n          id: 'menu',\n          text: '',\n          icon: 'fa fa-bars'\n        },\n        {\n          id: \"sep1\",     // separator id\n          type: \"separator\" // item type, mandatory\n        },\n        {\n          id: 'contacts',\n          text: 'Contacts',\n          icon: 'fa fa-user'\n        },\n        {\n          id: 'projects',\n          text: 'Projects',\n          icon: 'fa fa-briefcase'\n        },\n        {\n          id: 'events',\n          text: 'Events',\n          icon: 'fa fa-calendar-check'\n        },\n        {\n          id: 'settings',\n          text: 'Settings',\n          icon: 'fa fa-cog'\n        },\n        {\n          id: 'about',\n          text: 'About',\n          icon: 'fa fa-info'\n        }\n      ]\n    };\n\n    this.ui.loadStruct(struct);\n  }\n\n}\n","import { DHXView } from 'dhx-optimus';\n\nimport { TopbarView } from './topbar/topbar-view.js';\nimport { SidebarView } from './sidebar/sidebar-view.js';\nimport { AboutView } from '../about/about-view.js';\nimport { ProjectsView } from '../projects/projects-view.js';\nimport { ContactsView } from '../contacts/contacts-view.js';\nimport { EventsView } from '../events/events-view.js';\nimport { SettingsView } from '../settings/settings-view.js';\n\nimport route from 'riot-route';\n\nexport class TopView extends DHXView {\n  render() {\n    //router\n    let dhxTop = this;\n    let collapsed = true;\n    route(function (id) {\n      switch (id) {\n        case 'menu':\n          //\n          break;\n        case 'contacts':\n          dhxTop.getService('ToolbarService').setText('Contacts');\n          dhxTop.getService('SidebarService').select('contacts');\n          dhxTop.show(ContactsView, 'right');\n          break;\n        case 'projects':\n          dhxTop.getService('ToolbarService').setText('Projects');\n          dhxTop.getService('SidebarService').select('projects');\n          dhxTop.show(ProjectsView, 'right');\n          break;\n        case 'events':\n          dhxTop.getService('ToolbarService').setText('Events');\n          dhxTop.getService('SidebarService').select('events');\n          dhxTop.show(EventsView, 'right');\n          break;\n        case 'settings':\n          dhxTop.getService('ToolbarService').setText('Settings');\n          dhxTop.getService('SidebarService').select('settings');\n          dhxTop.show(SettingsView, 'right');\n          break;\n        case 'about':\n          dhxTop.getService('ToolbarService').setText('About');\n          dhxTop.getService('SidebarService').select('about');\n          dhxTop.show(AboutView, 'right');\n          break;\n        default:\n          dhxTop.getService('ToolbarService').setText('Contacts');\n          dhxTop.getService('SidebarService').select('contacts');\n          dhxTop.show(ContactsView, 'right');\n          break;\n      }\n    });\n    route.start(true);\n\n    this.ui = this.root.attachLayout({\n      pattern: '2U',\n      cells: [{\n        id: 'a',\n        header: false,\n        width: 34,\n        fix_size: [true,null]\n      }, {\n        id: 'b',\n        header: false,\n      }]\n    });\n\n    this.show(TopbarView, this.ui);\n    this.show(SidebarView, this.ui.cells('a'));\n\n    this.addSlot('right', this.ui.cells('b'));\n\n    this.attachEvent('SideBar', (id) => {\n      switch (id) {\n        case 'menu':\n          dhxTop.ui.cells('a').setWidth(collapsed ? 200 : 34);\n          collapsed = !collapsed;\n          break;\n        default:\n          route(id);\n          break;\n      }\n    });\n  }\n}\n","import { DHXView } from 'dhx-optimus';\n\nexport class TopbarView extends DHXView {\n  render() {\n    this.ui = this.root.attachToolbar({\n      iconset: 'awesome',\n      skin: 'dhx_web'\n    });\n    this.ui.setIconSize(32);\n    this.ui.attachEvent('onClick', (id) => this.callEvent('ToolbarClick', [id]));\n    this._load();\n\n    this.addService('ToolbarService', {\n      setText: (text) => {\n        this._setText(text);\n      }\n    });\n  }\n\n  _load() {\n    let struct = [\n      { id: 'title', type: 'text', text: '<span class=\"topbar_title\">Contacts</span>' },\n      { type: 'spacer' },\n      { id: 'add', type: 'button', text: '', img: 'fa fa-plus-circle' }\n    ];\n    this.ui.loadStruct(struct);\n  }\n\n  _setText(text) {\n    this.ui.setItemText('title', `<span class='topbar_title'>${text}</span>`);\n  }\n}\n"],"sourceRoot":""}